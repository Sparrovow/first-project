# first-project
人种识别
这段代码实现了一个批量处理本地图片的人脸检测与性别、人种识别，并在图片上用中文标注检测结果，最后将结果保存到指定文件夹。下面是详细介绍：


代码功能概述：
读取指定文件夹中的所有图片（支持 JPG/JPEG/PNG 格式）。
使用 DeepFace 库的 analyze 方法，基于 RetinaFace 人脸检测器检测图片中所有人脸。
对检测到的人脸进行性别和人种分类。
使用 OpenCV 在图片上绘制人脸框。
使用 Pillow (PIL) 在人脸框上方绘制中文标签（性别和人种）。
将标注后的图片保存到另一个指定的输出文件夹。
处理过程中打印进度信息及错误提示。


| 库              | 作用说明                        |
| -------------- | --------------------------- |
| `os`           | 读取文件夹内容，处理文件路径，创建输出目录。      |
| `cv2`          | OpenCV库，用于图片读取、绘制矩形框、保存图片等。 |
| `numpy`        | 数组处理，图像数据格式转换。              |
| `deepface`     | 人脸识别框架，提供统一接口检测人脸及属性分析。     |
| `PIL` (Pillow) | 处理图像及绘制中文文本（OpenCV原生不支持中文）。 |



环境要求及注意事项
Python 版本：建议使用 Python 3.7 及以上。
DeepFace：需安装 DeepFace 库（版本兼容 TensorFlow 或 PyTorch，安装时建议查阅官方文档）。
OpenCV：需安装 opencv-python。
Pillow：用于加载中文字体和绘制文字。
中文字体文件：代码中指定了 Windows 系统的字体路径 C:\Windows\Fonts\simhei.ttf，该字体文件需存在，否则中文显示会失败。Linux 或 Mac 需改成对应的字体路径。
RetinaFace：DeepFace 的后端人脸检测器之一，需正确安装相关依赖。
GPU支持：如果环境有 CUDA GPU，DeepFace 能加速人脸检测和分析。

